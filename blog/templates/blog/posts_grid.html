{% load static wagtailimages_tags el_pagination_tags %}

{% lazy_paginate 6 posts %}
    {% for post in posts %}
        {% with post=post.specific %}
            <div class="main_grid_single" onmouseenter="changeBackground(this, '{{ post.main_category.color|safe }}')" onmouseleave="resetBackground(this)">
                <a href="{{ post.url }}">
                    <div class="grid_img_container">
                        {% image post.main_image original as postImage%}
                        <img src="{{ postImage.url }}"/>

                    </div>
                    <div class="main_grid_single_info">
                        <span style="color:{{ post.main_category.color }}">{{ post.main_category.name }}</span>
                        <p>{{ post.title }}</p>
                    </div>
                </a>
            </div>
        {% endwith %}
    {% endfor %}
{% show_more %}

<script>
    function changeBackground(x, color){
        x.style.background = color;
    }

    function resetBackground(x){
        x.style.background = '#fff';
    }
</script>